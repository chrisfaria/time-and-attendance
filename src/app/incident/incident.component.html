<p class="h4 mb-4">Add Incident<p>

<form [formGroup]="incidentForm" (ngSubmit)="onSubmit()" class="text-center border border-light p-5">
  <label>
    First Name:
    <input type="text" formControlName="name" class="form-control mb-4">
  </label>
  <label>
    Type:
    <input type="text" formControlName="type" class="form-control mb-4">
  </label>
  <div formGroupName="values">
    <h4>Values</h4>
    <label>
      Value1:
      <input type="text" formControlName="value1">
    </label>
    <label>
      Value2:
      <input type="text" formControlName="value2">
    </label>
    <label>
      Value3:
      <input type="text" formControlName="value3">
    </label>
  </div>
  <div formArrayName="details">
    <h4>Details</h4> <button (click)="addDetail()">Add Detail</button>
  
    <div *ngFor="let detail of details.controls; let i=index">
      <!-- The repeated alias template -->
      <label>
        Detail:
        <input type="text" [formControlName]="i">
      </label>
    </div>
  </div>
  <label>
    Note:
    <input type="text" formControlName="note">
  </label>
  <button type="submit" [disabled]="!incidentForm.valid">Submit</button>
</form>

<hr>
<p >
  Form Value: {{ incidentForm.value | json }}
</p>
<p>
  Form Status: {{ incidentForm.status }}
</p>